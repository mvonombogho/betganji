// Existing schema content...

model User {
  id            String       @id @default(cuid())
  name          String?
  email         String       @unique
  emailVerified DateTime?
  password      String
  image         String?
  createdAt     DateTime     @default(now())
  updatedAt     DateTime     @updatedAt
  predictions   Prediction[]
  bets          Bet[]
  accounts      Account[]
  sessions      Session[]
  reportPreferences ReportPreferences?
  emailLogs     EmailLog[]

  @@index([email])
}

model ReportPreferences {
  id            String    @id @default(cuid())
  userId        String    @unique
  dailyReports  Boolean   @default(false)
  weeklyReports Boolean   @default(false)
  monthlyReports Boolean  @default(false)
  emailTime     String    @default("00:00") // Time in 24-hour format (HH:mm)
  timezone      String    @default("UTC")
  lastSent      DateTime?
  createdAt     DateTime  @default(now())
  updatedAt     DateTime  @updatedAt
  user          User      @relation(fields: [userId], references: [id], onDelete: Cascade)

  @@index([userId])
}

model EmailLog {
  id        String    @id @default(cuid())
  userId    String
  type      String    // e.g., 'PREDICTION_REPORT'
  status    String    // e.g., 'SENT', 'FAILED'
  error     String?
  metadata  Json?
  createdAt DateTime  @default(now())
  user      User      @relation(fields: [userId], references: [id], onDelete: Cascade)

  @@index([userId])
  @@index([type])
  @@index([status])
  @@index([createdAt])
}